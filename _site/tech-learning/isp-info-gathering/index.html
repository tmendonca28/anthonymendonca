<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
 <title>Can your ISP see what URL you browse to?</title>
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <meta http-equiv="Content-Type" content="text/html;charset=utf-8">

 <meta name="description" content="How your ISP may know what site you are browsing to">

 <meta name="author" content="Anthony Mendonca">
 <link rel="shortcut icon" type="image/png" href="/images/favicon.ico">

 <style type="text/css">
body { background: white; color: black; font-family: Arial, Helvetica, sans-serif; font-size: 17px; line-height: 1.6; word-spacing: 0.1em; margin: 0 auto; max-width: 1000px; }
#menu { margin: 0 auto; width: 92.5%; height: 5.5em; border-bottom: 1px solid #D3D3D3; }
#menu .site-title { float: left; font-size: 225%; color: #D3D3D3; letter-spacing: 0.15em; padding: 0.45em 0; text-transform: uppercase; margin-left: -0.05em; }
#menu .site-title a, #menu .site-title a:hover { color: #D3D3D3; text-decoration: none; }
#menu ul.links { float: right; list-style-type: none; font-size: 80%; margin-top: 2.8em; }
#menu ul.links li { display: inline; margin: 0 0 0 0.5em; padding: 0; }
#menu a { border: none; color: #000080; }
#menu a:hover { border-bottom: 1px solid; }
#content { margin: 2em auto; width: 92.5%; max-width: 700px; }
h1, h2, p, ul, details { margin: 1em 0; }
p.gap { margin-top: 1.8em; }
p.subtitle { margin-top: 0; font-style: italic; }
a { text-decoration: none; border-bottom: 1px dotted; }
a:hover { border-bottom: 1px solid; }
a:link { color: #000080; }
a:visited { color: #000080  ; }
h1 a, h2 a { border-bottom: none; }
h1 a:hover, h1 a:link, h1 a:visited, h2 a:hover, h2 a:link, h2 a:visited { color: #301800; }
h1, h2 { font-weight: normal; letter-spacing: 0.02em; }
h2 { font-variant: small-caps; }
h1 { margin: 0 0 0 -0.05em; font-size: 200%; }
h2 { margin: 1.8em 0 -0.2em 0; font-size: 160%; }
h3 { margin: 1.5em 0 -0.5em 0; font-size: 100%; }
ul { padding: 0; list-style-type: disc; }
li { padding: 0; margin-left: 1.2em; margin-bottom: 0.5em; }
ol li { margin-left: -0.7em; }
blockquote { font-size: 90%; margin: 2em 0; padding: 0 1.5em; border-left: 1px dotted #301800; }
.smallcaps { font-variant: small-caps; }
pre { overflow-x: auto; }
code { font-size: 92.5%; word-spacing: 0; }
.print-only { display: none; }
img { max-width: 100%; }
img.right { float: right; width: 40%; margin: 1.5em 0 1.5em 2em; }
.right-callout { float: right; width: 13em; font-size: 75%; font-style: italic; padding: 0.5em 0 0.5em 1.5em; border-left: 1px dotted #301800; margin-left: 1.5em; }
table { border-collapse: collapse; }
th { text-align: left; padding-right: 2rem; }
td { padding-right: 2em; }
@media (max-width: 750px) {
body { font-size: 15px; }
#menu ul.links { font-size: 75%; }
}
@media (max-width: 615px) {
body { font-size: 13px; }
#menu { height: 7.5em; }
#menu .site-title { float: none; }
#menu ul.links { float: none; margin: -0.5em 0 0 -0.8em; }
h1 { margin-top: 0.5em 0; }
}
@media print {
.no-print { display: none; }
.print-only { display: block; }
a:link, a:visited { color: #301800; }
}
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #aaaaaa; font-style: italic }
.highlight .k { color: #0000aa }
.highlight .ch { color: #aaaaaa; font-style: italic }
.highlight .cm { color: #aaaaaa; font-style: italic }
.highlight .cp { color: #4c8317 }
.highlight .cpf { color: #aaaaaa; font-style: italic }
.highlight .c1 { color: #aaaaaa; font-style: italic }
.highlight .cs { color: #0000aa; font-style: italic }
.highlight .gd { color: #aa0000 }
.highlight .ge { font-style: italic }
.highlight .gr { color: #aa0000 }
.highlight .gh { color: #000080; font-weight: bold }
.highlight .gi { color: #00aa00 }
.highlight .go { color: #888888 }
.highlight .gp { color: #555555 }
.highlight .gs { font-weight: bold }
.highlight .gu { color: #800080; font-weight: bold }
.highlight .gt { color: #aa0000 }
.highlight .kc { color: #0000aa }
.highlight .kd { color: #0000aa }
.highlight .kn { color: #0000aa }
.highlight .kp { color: #0000aa }
.highlight .kr { color: #0000aa }
.highlight .kt { color: #00aaaa }
.highlight .m { color: #009999 }
.highlight .s { color: #aa5500 }
.highlight .na { color: #1e90ff }
.highlight .nb { color: #00aaaa }
.highlight .nc { color: #00aa00; }
.highlight .no { color: #aa0000 }
.highlight .nd { color: #888888 }
.highlight .ni { color: #880000; font-weight: bold }
.highlight .nf { color: #00aa00 }
.highlight .nn { color: #00aaaa; }
.highlight .nt { color: #1e90ff; font-weight: bold }
.highlight .nv { color: #aa0000 }
.highlight .ow { color: #0000aa }
.highlight .w { color: #bbbbbb }
.highlight .mb { color: #009999 }
.highlight .mf { color: #009999 }
.highlight .mh { color: #009999 }
.highlight .mi { color: #009999 }
.highlight .mo { color: #009999 }
.highlight .sa { color: #aa5500 }
.highlight .sb { color: #aa5500 }
.highlight .sc { color: #aa5500 }
.highlight .dl { color: #aa5500 }
.highlight .sd { color: #aa5500 }
.highlight .s2 { color: #aa5500 }
.highlight .se { color: #aa5500 }
.highlight .sh { color: #aa5500 }
.highlight .si { color: #aa5500 }
.highlight .sx { color: #aa5500 }
.highlight .sr { color: #009999 }
.highlight .s1 { color: #aa5500 }
.highlight .ss { color: #0000aa }
.highlight .bp { color: #00aaaa }
.highlight .fm { color: #00aa00 }
.highlight .vc { color: #aa0000 }
.highlight .vg { color: #aa0000 }
.highlight .vi { color: #aa0000 }
.highlight .vm { color: #aa0000 }
.highlight .il { color: #009999 }
 </style>
</head>

<body>

<div id="container">

<div id="menu">

 <div class="site-title"><a href="/">AGM</a></div>

 
 <ul class="links no-print">
  <li><a href="/" title="Go to the home page">Home</a></li>
  <li><a href="/cv/" title="Go to my Resume/CV">Resume/CV</a></li>
  <li><a href="/tech-learning/" title="Tech Stuff">Tech Learning</a></li>
  <li><a href="/non-tech-learning/" title="Non-tech Stuff">Non-Tech Learning</a></li>
  <li><a href="mailto:demiosphobos28@gmail.com.com" title="Email me">Email</a></li>
 </ul>

 <ul class="links print-only">
  <!-- <li><a href="xxx">anthonymendonca.me</a> -->
  <li><a href="mailto:demiosphobos28@gmail.com">demiosphobos28@gmail.com</a></li>
 </ul>
</div>

<div id="content">
<h1>Can your ISP see what URL you browse to?</h1>
<p class="subtitle">August 2022</p>

<p>Following an interview question I had recently, I decided to look more into this. It seems that your Internet Service Provider (ISP) may know a bit more about what sites you tend to visit than you may know. Here are a few of the possible ways they can do so:</p>

<h2 id="a-decent-portion-of-the-internet-still-runs-on-http">A decent portion of the internet still runs on http</h2>
<p>Sites running on the HTTP protocol send all requests in plaintext and hence data is not encrypted over the communication channel. This means that an ISP would have full visibility on what sites you are visiting and what you are actually doing there. In this time and age, all sites should really move to using HTTPS, however, there may be no justification on purchasing a TLS certificate for a potentially low data volume site.</p>

<h2 id="monitoring-dns">Monitoring dns</h2>
<p>Even if a site employs the use of HTTPS, an IPS simply would be able to monitor requests made to the Domain Name System (DNS) and hence learn the name of the domain you are visiting.</p>

<h2 id="server-name-indication-sni">Server name indication (sni)</h2>
<p>SNI indicates a websiteâ€™ hostname or domain name and is sometimes sent as part of the TLS handshake process.</p>

<p>In HTTPS, a TLS handshake occurs first, before the HTTP conversation can begin of course. Without SNI, there is no way for the client to indicate to the server which hostname they are conversing with. As a result of this, the server may send back the TLS certificate for the wrong hostname. If the name on the certificate does not match the name the client is trying to reach, this results in an error. SNI thus adds the domain name to the TLS handshake process, so that the TLS process can reach the correct domain name and receive the right TLS certificate.</p>

<p>The SNI is included in the Client Hello message which is the first step of TLS handshake, which is sent in plaintext, unless it uses a TLS Encrypted ClientHello (ECH) extension.</p>

</div>

</div>

</body>
</html>
